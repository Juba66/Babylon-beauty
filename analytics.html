
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ØªØ­Ù„ÙŠÙ„Ø§Øª Babylon Beauty</title>
  <style>
    body { font-family: sans-serif; direction: rtl; padding: 20px; }
    .card { border: 1px solid #ccc; border-radius: 6px; padding: 15px; margin: 10px 0; background: #f9f9f9; }
    h2 { color: #333; }
  </style>
</head>
<body>
  <h1>ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h1>

  <div class="card" id="totalBookings">ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª: ...</div>
  <div class="card" id="topService">âœ¨ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ù‹Ø§: ...</div>
  <div class="card" id="avgRating">â­ Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª: ...</div>

  <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© Ù…Ø£Ø®ÙˆØ°Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ (Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ)
    const bookings = JSON.parse(localStorage.getItem("bookings") || "[]");
    const reviews = JSON.parse(localStorage.getItem("reviews") || "[]");

    // Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª
    const total = bookings.length;
    document.getElementById("totalBookings").innerHTML = "ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª: " + total;

    // Ø£ÙƒØ«Ø± Ø®Ø¯Ù…Ø© Ø·Ù„Ø¨Ù‹Ø§
    const services = {};
    bookings.forEach(b => {
      if (b.service) services[b.service] = (services[b.service] || 0) + 1;
    });

    const topService = Object.entries(services).sort((a, b) => b[1] - a[1])[0];
    document.getElementById("topService").innerHTML =
      topService ? `âœ¨ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ù‹Ø§: ${topService[0]} (${topService[1]} Ù…Ø±Ø©)` : "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª";

    // Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
    const avgRating =
      reviews.length > 0
        ? (reviews.reduce((sum, r) => sum + Number(r.rating || 0), 0) / reviews.length).toFixed(1)
        : "Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª";

    document.getElementById("avgRating").innerHTML = "â­ Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª: " + avgRating;
  </script>
</body>
</html>
